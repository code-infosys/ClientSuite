/* @license 
 * jQuery.print, version 1.6.0
 *  (c) Sathvik Ponangi, Doers' Guild
 * Licence: CC-By (http://creativecommons.org/licenses/by/3.0/)
 * https://www.npmjs.com/package/jQuery.print
 *--------------------------------------------------------------------------*/
(function(n){"use strict";function t(t,i,r){for(var o,l,f=n(t),e=f.clone(i,r),c=f.find("textarea").add(f.filter("textarea")),a=e.find("textarea").add(e.filter("textarea")),s=f.find("select").add(f.filter("select")),v=e.find("select").add(e.filter("select")),u=0,h=c.length;u<h;++u)n(a[u]).val(n(c[u]).val());for(u=0,h=s.length;u<h;++u)for(o=0,l=s[u].options.length;o<l;++o)s[u].options[o].selected===!0&&(v[u].options[o].selected=!0);return e}function r(i){var r=n("");try{r=t(i)}catch(u){r=n("<span />").html(i)}return r}function u(t,i,r){var f=n.Deferred(),u,e,o;try{t=t.contentWindow||t.contentDocument||t;u=t.document||t.contentDocument||t;r.doctype&&u.write(r.doctype);u.write(i);u.close();e=!1;o=function(){if(!e){t.focus();try{t.document.execCommand("print",!1,null)||t.print();n("body").focus()}catch(i){t.print()}t.close();e=!0;f.resolve()}};n(t).on("load",o);setTimeout(o,r.timeout)}catch(s){f.reject(s)}return f}function e(t,r){var f=n(r.iframe+""),e=f.length,o;return e===0&&(f=n('<iframe height="0" width="0" border="0" wmode="Opaque"/>').prependTo("body").css({position:"absolute",top:-999,left:-999})),o=f.get(0),u(o,t,r).done(function(){setTimeout(function(){e===0&&f.remove()},1e3)}).fail(function(n){console.error("Failed to print from iframe",n);i(t,r)}).always(function(){try{r.deferred.resolve()}catch(n){console.warn("Error notifying deferred",n)}})}function i(n,t){var i=window.open();return u(i,n,t).always(function(){try{t.deferred.resolve()}catch(n){console.warn("Error notifying deferred",n)}})}function f(n){return!!(typeof Node=="object"?n instanceof Node:n&&typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.nodeName=="string")}n.print=n.fn.print=function(){var u,s,c=this,v,h,o,l,a;c instanceof n&&(c=c.get(0));f(c)?(s=n(c),arguments.length>0&&(u=arguments[0])):arguments.length>0?(s=n(arguments[0]),f(s[0])?arguments.length>1&&(u=arguments[1]):(u=arguments[0],s=n("html"))):s=n("html");v={globalStyles:!0,mediaPrint:!1,stylesheet:null,noPrintSelector:".no-print",iframe:!0,append:null,prepend:null,manuallyCopyFormValues:!0,deferred:n.Deferred(),timeout:750,title:null,doctype:"<!doctype html>"};u=n.extend({},v,u||{});h=n("");u.globalStyles?h=n("style, link, meta, base, title"):u.mediaPrint&&(h=n("link[media=print]"));u.stylesheet&&(h=n.merge(h,n('<link rel="stylesheet" href="'+u.stylesheet+'">')));o=t(s);o=n("<span/>").append(o);o.find(u.noPrintSelector).remove();o.append(t(h));u.title&&(l=n("title",o),l.length===0&&(l=n("<title />"),o.append(l)),l.text(u.title));o.append(r(u.append));o.prepend(r(u.prepend));u.manuallyCopyFormValues&&(o.find("input").each(function(){var t=n(this);t.is("[type='radio']")||t.is("[type='checkbox']")?t.prop("checked")&&t.attr("checked","checked"):t.attr("value",t.val())}),o.find("select").each(function(){var t=n(this);t.find(":selected").attr("selected","selected")}),o.find("textarea").each(function(){var t=n(this);t.text(t.val())}));a=o.html();try{u.deferred.notify("generated_markup",a,o)}catch(p){console.warn("Error notifying deferred",p)}if(o.remove(),u.iframe)try{e(a,u)}catch(y){console.error("Failed to print from iframe",y.stack,y.message);i(a,u)}else i(a,u);return this}})(jQuery);